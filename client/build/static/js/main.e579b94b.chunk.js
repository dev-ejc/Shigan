(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),s=(a(46),a(16)),o=a(3),u=a(5),i=a.n(u),m=a(18),p=a(12),d=a.n(p),E=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},f=function(){return function(e){e({type:"CLEAR_ERRORS"})}},b=function(){return function(){var e=Object(m.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(),e.next=4,d.a.get("/api/stocks");case 4:a=e.sent,t({type:"GET_STOCKS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(e){e({type:"SET_LOADING"})}},g=function(e){return function(t){t({type:"STOCK_ERROR",payload:e.message})}},h=function(e){var t=e.auths.isAuthenticated,a=e.logout,c=e.clearStocks,l=e.title,o=(e.icon,r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item mx-auto"},r.a.createElement(s.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item mx-auto"},r.a.createElement(s.b,{className:"nav-link",to:"/About"},"About")),r.a.createElement("li",{className:"nav-item mx-auto"},r.a.createElement("a",{className:"nav-link",href:"/",onClick:function(){a(),c()}},r.a.createElement("i",{className:"fas fa-signout-alt"})," ","Logout")))),u=r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item mx-auto"},r.a.createElement(s.b,{className:"nav-link",to:"/Register"},"Register")),r.a.createElement("li",{className:"nav-item mx-auto"},r.a.createElement(s.b,{className:"nav-link",to:"/Login"},"Login")));return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("a",{href:"/",className:"navbar-brand mx-auto"},l),r.a.createElement("button",{className:"navbar-toggler btn-block",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},t?o:u)))};h.defaultProps={title:"Shigan"};var k=Object(o.b)(function(e){return{auths:e.auths}},{logout:function(){return function(e){return e({type:"LOGOUT"})}},clearStocks:function(){return function(e){e({type:"CLEAR_STOCKS"})}}})(h),y=a(17),O=a(40),N=Object(o.b)(function(e){return{auths:e.auths}},{})(function(e){var t=e.auths.isAuthenticated,a=e.component,n=Object(O.a)(e,["auths","component"]);return t?r.a.createElement(y.b,Object.assign({},n,{render:function(e){return r.a.createElement(a,e)}})):r.a.createElement(y.a,{to:"/Login"})}),S=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"About This App"),r.a.createElement("h3",null,"Version 1.0.0"),r.a.createElement("p",{className:"bg-dark p"},"This is a full stack app for keeping stocks"),r.a.createElement("p",{className:"bg-primary"},"Disclaimer: The following app is for educational purposes only"))},j=a(11),C=a(13),T=a(2),R=a(4),_=a.n(R),w=function(e){var t=e.price,a=e.stock,c=e.deleteStock,l=e.updateCurrentStock,s=Object(n.useState)(!1),o=Object(j.a)(s,2),u=o[0],i=o[1],m=Object(n.useState)({shares:0}),p=Object(j.a)(m,2),d=p[0],E=p[1];Object(n.useEffect)(function(){E(a)},[]);var f=a._id,b=d.shares,v=t.companyName,g=t.image;return r.a.createElement("div",{className:"card bg-secondary mt-1"},r.a.createElement("div",{className:"card-body align-content-center"},r.a.createElement("h3",{className:"card-title text-dark text-center"},a.ticker),r.a.createElement("img",{src:g,className:"card-img-top mx-auto",alt:"logo"}),u?r.a.createElement("form",{className:"form-inline mb-2",onSubmit:function(e){e.preventDefault(),i(!1),l(d)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"integer",name:"shares",placeholder:0,value:b,onChange:function(e){E(Object(T.a)({},d,Object(C.a)({},e.target.name,e.target.value)))}})),r.a.createElement("button",{type:"submit",className:"btn btn-info form-control"},"Update")):r.a.createElement(n.Fragment,null,r.a.createElement("table",{className:"table table-bordered table-responsive"},r.a.createElement("tbody",null,r.a.createElement("tr",{key:"name"},r.a.createElement("td",{className:"text-right"},"Name"),r.a.createElement("td",null,v)),r.a.createElement("tr",{key:"price"},r.a.createElement("td",{className:"text-right"},"Price"),r.a.createElement("td",null,t.price)),r.a.createElement("tr",{key:"shares"},r.a.createElement("td",{className:"text-right"},"Shares"),r.a.createElement("td",null,b))))),r.a.createElement("button",{onClick:function(){i(!u)},className:"btn btn-dark  btn-block"},u?"Back":"Edit"),r.a.createElement("button",{onClick:function(){c(f)},className:"btn btn-danger btn-block"},"Delete")))};w.prototype={setCurrentStock:_.a.func.isRequired,deleteStock:_.a.func.isRequired,updateCurrentStock:_.a.func.isRequired};var x=Object(o.b)(function(e){return{}},{setCurrentStock:function(e){return function(t){t({type:"SET_CURRENT_STOCK",payload:e})}},deleteStock:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={params:{id:e}},t.prev=1,v(),t.next=5,d.a.delete("api/stocks/".concat(e),n);case 5:a({type:"DELETE_STOCK",payload:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),g(t.t0);case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},updateCurrentStock:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(),t.next=4,d.a.put("api/stocks/".concat(e._id),e);case 4:n=t.sent,a({type:"UPDATE_CURRENT_STOCK",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),g(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}})(w),A=Object(o.b)(function(e){return{stocks:e.stocks}},{getStocks:b})(function(e){var t=e.stocks,a=t.stocks,n=t.loading,c=a;return null===a||n?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",{className:"container"},c.map(function(e){return r.a.createElement("div",{className:"container",key:e.stock._id},r.a.createElement(x,{stock:e.stock,price:e.price}))}))}),L=function(e){var t=e.addStock,a=Object(n.useState)({ticker:"",shares:0,date:Date.now()}),c=Object(j.a)(a,2),l=c[0],s=c[1],o=function(e){return s(Object(T.a)({},l,Object(C.a)({},e.target.name,e.target.value)))},u=l.shares,i=l.ticker;return r.a.createElement("div",{className:"container border mt-1"},r.a.createElement("form",{className:"form p-2",onSubmit:function(e){e.preventDefault(),t(l),s({ticker:"",shares:0,date:Date.now()})}},r.a.createElement("h2",{className:"form-title"},"Add Stock"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ticker"},"Ticker"),r.a.createElement("input",{className:"form-control",type:"text",name:"ticker",placeholder:"Ticker",value:i,onChange:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"shares"},"Shares"),r.a.createElement("input",{className:"form-control",type:"integer",name:"shares",placeholder:0,value:u,onChange:o})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Add Stock")))};L.prototype={addStock:_.a.func.isRequired};var I=Object(o.b)(function(e){return{}},{addStock:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(a){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,v(),t.next=5,d.a.post("/api/stocks",e,n);case 5:r=t.sent,a({type:"ADD_STOCK",payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),g(t.t0);case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}})(L),D=Object(o.b)(function(e){return{stocks:e.stocks}},{})(function(e){var t=e.stocks,a=t.stocks,n=t.loading;if(null===a||n)return r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."));var c=a.reduce(function(e,t){return e+t.stock.shares*t.price.price},0);return r.a.createElement("h1",{className:"text-primary text-center mb-2"},"$".concat(Math.round(100*c)/100))}),F=Object(o.b)(function(e){return{stocks:e.stocks}},{getStocks:b})(function(e){var t=e.getStocks,a=e.stocks,c=a.loading,l=a.stocks,s=Object(n.useState)(!1),o=Object(j.a)(s,2),u=o[0],i=o[1];return Object(n.useEffect)(function(){t()},[]),c||null===l?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",{className:"container mt-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(D,null),r.a.createElement("button",{onClick:function(){i(!u)},className:"button btn-primary btn-block mb-2"},"Purchase Stock"),u?r.a.createElement(I,null):r.a.createElement(A,null))))}),U=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page Not Found"))},K=function(e,t){return function(a){var n=e.length+t.length;a({type:"SET_ALERT",payload:{msg:e,type:t,id:n}}),setTimeout(function(){a({type:"REMOVE_ALERT",payload:n})},5e3)}},G=Object(o.b)(function(e){return{auths:e.auths}},{setAlert:K,register:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(a){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,d.a.post("/api/users",e,n);case 4:r=t.sent,a({type:"REGISTER_SUCCESS",payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"REGISTER_FAIL",payload:t.t0.message});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},clearErrors:f})(function(e){var t=e.history,a=e.auths,c=a.error,l=a.isAuthenticated,s=e.register,o=e.clearErrors,u=e.setAlert,i=Object(n.useState)({name:"",email:"",password:"",password2:""}),m=Object(j.a)(i,2),p=m[0],d=m[1],E=p.name,f=p.email,b=p.password,v=p.password2,g=function(e){d(Object(T.a)({},p,Object(C.a)({},e.target.name,e.target.value)))};Object(n.useEffect)(function(){l&&t.push("/"),c&&(u(c,"danger"),o())},[c,l,t]);return r.a.createElement("div",{className:"form-container mt-2"},r.a.createElement("form",{className:"form p-2",onSubmit:function(e){e.preventDefault(),""===E||""===f||""===b?u("Please enter all fields","danger"):b!==v?u("Passwords do not match","danger"):s({name:E,email:f,password:b})}},r.a.createElement("h1",null,"Account ",r.a.createElement("span",{className:"text-primary"},"Register")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{className:"form-control",type:"text",name:"name",value:E,onChange:g,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{className:"form-control",type:"email",name:"email",value:f,onChange:g,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:b,onChange:g,required:!0,minLength:"7"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password2"},"password2"),r.a.createElement("input",{className:"form-control",type:"password",name:"password2",value:v,onChange:g,required:!0})),r.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-primary btn-block"})))}),P=Object(o.b)(function(e){return{auths:e.auths}},{setAlert:K,login:function(e){return function(){var t=Object(m.a)(i.a.mark(function t(a){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return sessionStorage.token&&E(sessionStorage.token),n={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,d.a.post("/api/auth",e,n);case 5:r=t.sent,a({type:"LOGIN_SUCCESS",payload:r.data}),E(sessionStorage.token),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:"LOGIN_FAIL",payload:t.t0.message});case 13:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}()},clearErrors:f})(function(e){var t=e.history,a=e.setAlert,c=e.login,l=e.clearErrors,s=e.auths,o=s.error,u=s.isAuthenticated,i=Object(n.useState)({email:"",password:""}),m=Object(j.a)(i,2),p=m[0],d=m[1],E=p.email,f=p.password;Object(n.useEffect)(function(){u&&t.push("/"),o&&(a(o,"danger"),l())},[o,u,t]);var b=function(e){d(Object(T.a)({},p,Object(C.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container mt-2"},r.a.createElement("form",{className:"form p-2",onSubmit:function(e){e.preventDefault(),""===E||""===f?a("Please fill in all fields"):c({email:E,password:f})}},r.a.createElement("h1",{className:"form-title"},"Account ",r.a.createElement("span",{className:"text-primary text-center"},"Login")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{className:"form-control",type:"email",name:"email",value:E,onChange:b})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",value:f,onChange:b})),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary btn-block"})))}),q=function(e){var t=e.alerts;return t.length>0&&t.map(function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.type," mt-3")},r.a.createElement("i",{className:"fas fa-info-circle"})," ",e.msg)})};q.prototypes={alerts:_.a.object.isRequired};var M=Object(o.b)(function(e){return{alerts:e.alerts}},{})(q),V=a(15),H=a(39),B={isAuthenticated:!1,loading:!0,error:null},J=a(22),X=[],$={stocks:null,current:null,filtered:null,error:null,loading:!1},z=Object(V.c)({auths:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE":return Object(T.a)({},e,{isAuthenticated:!0,loading:!1});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return sessionStorage.setItem("token",t.payload.token),Object(T.a)({},e,t.payload,{isAuthenticated:!0,loading:!1});case"LOGIN_FAIL":case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGOUT":return sessionStorage.removeItem("token"),Object(T.a)({},e,{isAuthenticated:!1,loading:!1,error:t.payload});case"CLEAR_ERRORS":return sessionStorage.removeItem("token"),Object(T.a)({},e,{error:null});default:return e}},alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALERT":return[].concat(Object(J.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==t.payload});default:return e}},stocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STOCKS":return Object(T.a)({},e,{stocks:t.payload,loading:!1});case"ADD_STOCK":return Object(T.a)({},e,{stocks:[].concat(Object(J.a)(e.stocks),[t.payload]),loading:!1});case"DELETE_STOCK":return Object(T.a)({},e,{stocks:e.stocks.filter(function(e){return e.stock._id!==t.payload}),loading:!1});case"STOCK_ERROR":return Object(T.a)({},e,{error:t.payload});case"SET_CURRENT_STOCK":return Object(T.a)({},e,{current:t.payload,loading:!1});case"UPDATE_CURRENT_STOCK":return Object(T.a)({},e,{stocks:e.stocks.map(function(e){return e.stock._id===t.payload.stock._id?t.payload:e}),loading:!1});case"CLEAR_STOCKS":return Object(T.a)({},e,{stocks:null,filtered:null,error:null,current:null,loading:!1});case"CLEAR_CURRENT_STOCK":return Object(T.a)({},e,{current:null,loading:!1});case"FILTER_STOCKS":return Object(T.a)({},e,{filtered:e.stocks.filter(function(e){var a=new RegExp("".concat(t.payload),"gi");return e.stock.ticker.match(a)}),loading:!1});case"CLEAR_FILTER":return Object(T.a)({},e,{filtered:null,loading:!1});case"SET_LOADING":return Object(T.a)({},e,{loading:!0});default:return e}}}),Q=[H.a],W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,Y=Object(V.e)(z,{},W(V.a.apply(void 0,Q))),Z=function(){return r.a.createElement(o.a,{store:Y},r.a.createElement(s.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container"},r.a.createElement(M,null),r.a.createElement(y.d,null,r.a.createElement(N,{exact:!0,path:"/",component:F}),r.a.createElement(y.b,{exact:!0,path:"/About",component:S}),r.a.createElement(y.b,{exact:!0,path:"/Register",component:G}),r.a.createElement(y.b,{exact:!0,path:"/Login",component:P}),r.a.createElement(y.b,{component:U}))))))};l.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e579b94b.chunk.js.map